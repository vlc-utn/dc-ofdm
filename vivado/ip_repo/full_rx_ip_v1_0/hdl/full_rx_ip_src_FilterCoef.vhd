-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/HDLRx/full_rx_ip_src_FilterCoef.vhd
-- Created: 2024-10-04 15:18:53
-- 
-- Generated by MATLAB 24.1, HDL Coder 24.1, and Simulink 24.1
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: full_rx_ip_src_FilterCoef
-- Source Path: HDLRx/full_rx/rx_demodulator_full/decimator/FIR Decimator/FilterBank/FilterCoef
-- Hierarchy Level: 5
-- Model version: 1.101
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;
USE work.full_rx_ip_src_full_rx_pac.ALL;

ENTITY full_rx_ip_src_FilterCoef IS
  PORT( clk                               :   IN    std_logic;
        reset_x                           :   IN    std_logic;
        enb                               :   IN    std_logic;
        validIn                           :   IN    std_logic;
        softReset                         :   IN    std_logic;
        CoefOut                           :   OUT   vector_of_std_logic_vector14(0 TO 12)  -- sfix14_En14 [13]
        );
END full_rx_ip_src_FilterCoef;


ARCHITECTURE rtl OF full_rx_ip_src_FilterCoef IS

  -- Constants
  CONSTANT Coef_table_table_data          : vector_of_signed14(0 TO 1) := 
    (to_signed(-16#0074#, 14), to_signed(-16#0057#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_2        : vector_of_signed14(0 TO 1) := 
    (to_signed(16#00DF#, 14), to_signed(16#0063#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_4        : vector_of_signed14(0 TO 1) := 
    (to_signed(-16#01B2#, 14), to_signed(-16#008B#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_6        : vector_of_signed14(0 TO 1) := 
    (to_signed(16#031C#, 14), to_signed(16#00B9#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_8        : vector_of_signed14(0 TO 1) := 
    (to_signed(-16#062F#, 14), to_signed(-16#00D9#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_10       : vector_of_signed14(0 TO 1) := 
    (to_signed(16#1428#, 14), to_signed(16#00F3#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_12       : vector_of_signed14(0 TO 1) := 
    (to_signed(16#1428#, 14), to_signed(16#1F07#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_14       : vector_of_signed14(0 TO 1) := 
    (to_signed(-16#062F#, 14), to_signed(16#00F3#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_16       : vector_of_signed14(0 TO 1) := 
    (to_signed(16#031C#, 14), to_signed(-16#00D9#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_18       : vector_of_signed14(0 TO 1) := 
    (to_signed(-16#01B2#, 14), to_signed(16#00B9#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_20       : vector_of_signed14(0 TO 1) := 
    (to_signed(16#00DF#, 14), to_signed(-16#008B#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_22       : vector_of_signed14(0 TO 1) := 
    (to_signed(-16#0074#, 14), to_signed(16#0063#, 14));  -- sfix14 [2]
  CONSTANT Coef_table_table_data_24       : vector_of_signed14(0 TO 1) := 
    (to_signed(16#0000#, 14), to_signed(-16#0057#, 14));  -- sfix14 [2]

  -- Signals
  SIGNAL CoefAddr_cnt                     : std_logic;  -- ufix1
  SIGNAL CoefAddr_state                   : std_logic;  -- ufix1
  SIGNAL CoefAddr_cnt_next                : std_logic;  -- ufix1
  SIGNAL CoefAddr_state_next              : std_logic;  -- ufix1
  SIGNAL CoefAddr_1                       : std_logic;  -- ufix1
  SIGNAL Coef_table_cast                  : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData                         : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg                          : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_1                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_1                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_1                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_2                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_2                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_2                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_3                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_3                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_3                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_4                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_4                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_4                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_5                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_5                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_5                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_6                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_6                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_6                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_7                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_7                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_7                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_8                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_8                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_8                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_9                : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_9                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_9                        : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_10               : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_10                      : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_10                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_11               : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_11                      : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_11                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL Coef_table_cast_12               : signed(31 DOWNTO 0);  -- int32
  SIGNAL CoefData_12                      : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefReg_12                       : signed(13 DOWNTO 0);  -- sfix14_En14
  SIGNAL CoefOut_tmp                      : vector_of_signed14(0 TO 12);  -- sfix14_En14 [13]

BEGIN
  -- CoefAddr
  CoefAddr_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefAddr_cnt <= '0';
        CoefAddr_state <= '0';
      ELSIF enb = '1' THEN
        IF softReset = '1' THEN
          CoefAddr_cnt <= '0';
          CoefAddr_state <= '0';
        ELSE 
          CoefAddr_cnt <= CoefAddr_cnt_next;
          CoefAddr_state <= CoefAddr_state_next;
        END IF;
      END IF;
    END IF;
  END PROCESS CoefAddr_process;

  CoefAddr_output : PROCESS (CoefAddr_cnt, CoefAddr_state, validIn)
    VARIABLE add_cast : unsigned(1 DOWNTO 0);
    VARIABLE add_temp : unsigned(1 DOWNTO 0);
  BEGIN
    add_temp := to_unsigned(16#0#, 2);
    add_cast := to_unsigned(16#0#, 2);
    CoefAddr_cnt_next <= CoefAddr_cnt;
    CoefAddr_1 <= CoefAddr_cnt;
    CASE CoefAddr_state IS
      WHEN '0' =>
        CoefAddr_state_next <= '0';
        CoefAddr_cnt_next <= '0';
        IF validIn = '1' THEN 
          CoefAddr_state_next <= '1';
        END IF;
      WHEN '1' =>
        CoefAddr_state_next <= '1';
        IF validIn = '1' THEN 
          IF CoefAddr_cnt = '1' THEN 
            CoefAddr_cnt_next <= '0';
          ELSE 
            add_cast := '0' & CoefAddr_cnt;
            add_temp := add_cast + to_unsigned(16#1#, 2);
            CoefAddr_cnt_next <= add_temp(0);
          END IF;
        END IF;
      WHEN OTHERS => 
        CoefAddr_cnt_next <= '0';
        CoefAddr_state_next <= '0';
    END CASE;
  END PROCESS CoefAddr_output;


  -- CoefTable_1
  Coef_table_cast <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData <= Coef_table_table_data(to_integer(Coef_table_cast));

  FilterCoef_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg <= CoefData;
      END IF;
    END IF;
  END PROCESS FilterCoef_process;


  -- CoefTable_2
  Coef_table_cast_1 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_1 <= Coef_table_table_data_2(to_integer(Coef_table_cast_1));

  FilterCoef_1_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_1 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_1 <= CoefData_1;
      END IF;
    END IF;
  END PROCESS FilterCoef_1_process;


  -- CoefTable_3
  Coef_table_cast_2 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_2 <= Coef_table_table_data_4(to_integer(Coef_table_cast_2));

  FilterCoef_2_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_2 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_2 <= CoefData_2;
      END IF;
    END IF;
  END PROCESS FilterCoef_2_process;


  -- CoefTable_4
  Coef_table_cast_3 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_3 <= Coef_table_table_data_6(to_integer(Coef_table_cast_3));

  FilterCoef_3_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_3 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_3 <= CoefData_3;
      END IF;
    END IF;
  END PROCESS FilterCoef_3_process;


  -- CoefTable_5
  Coef_table_cast_4 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_4 <= Coef_table_table_data_8(to_integer(Coef_table_cast_4));

  FilterCoef_4_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_4 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_4 <= CoefData_4;
      END IF;
    END IF;
  END PROCESS FilterCoef_4_process;


  -- CoefTable_6
  Coef_table_cast_5 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_5 <= Coef_table_table_data_10(to_integer(Coef_table_cast_5));

  FilterCoef_5_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_5 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_5 <= CoefData_5;
      END IF;
    END IF;
  END PROCESS FilterCoef_5_process;


  -- CoefTable_7
  Coef_table_cast_6 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_6 <= Coef_table_table_data_12(to_integer(Coef_table_cast_6));

  FilterCoef_6_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_6 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_6 <= CoefData_6;
      END IF;
    END IF;
  END PROCESS FilterCoef_6_process;


  -- CoefTable_8
  Coef_table_cast_7 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_7 <= Coef_table_table_data_14(to_integer(Coef_table_cast_7));

  FilterCoef_7_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_7 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_7 <= CoefData_7;
      END IF;
    END IF;
  END PROCESS FilterCoef_7_process;


  -- CoefTable_9
  Coef_table_cast_8 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_8 <= Coef_table_table_data_16(to_integer(Coef_table_cast_8));

  FilterCoef_8_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_8 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_8 <= CoefData_8;
      END IF;
    END IF;
  END PROCESS FilterCoef_8_process;


  -- CoefTable_10
  Coef_table_cast_9 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_9 <= Coef_table_table_data_18(to_integer(Coef_table_cast_9));

  FilterCoef_9_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_9 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_9 <= CoefData_9;
      END IF;
    END IF;
  END PROCESS FilterCoef_9_process;


  -- CoefTable_11
  Coef_table_cast_10 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_10 <= Coef_table_table_data_20(to_integer(Coef_table_cast_10));

  FilterCoef_10_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_10 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_10 <= CoefData_10;
      END IF;
    END IF;
  END PROCESS FilterCoef_10_process;


  -- CoefTable_12
  Coef_table_cast_11 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_11 <= Coef_table_table_data_22(to_integer(Coef_table_cast_11));

  FilterCoef_11_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_11 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_11 <= CoefData_11;
      END IF;
    END IF;
  END PROCESS FilterCoef_11_process;


  -- CoefTable_13
  Coef_table_cast_12 <= '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & '0' & CoefAddr_1;
  CoefData_12 <= Coef_table_table_data_24(to_integer(Coef_table_cast_12));

  FilterCoef_12_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        CoefReg_12 <= to_signed(16#0000#, 14);
      ELSIF enb = '1' THEN
        CoefReg_12 <= CoefData_12;
      END IF;
    END IF;
  END PROCESS FilterCoef_12_process;


  CoefOut_tmp(0) <= CoefReg;
  CoefOut_tmp(1) <= CoefReg_1;
  CoefOut_tmp(2) <= CoefReg_2;
  CoefOut_tmp(3) <= CoefReg_3;
  CoefOut_tmp(4) <= CoefReg_4;
  CoefOut_tmp(5) <= CoefReg_5;
  CoefOut_tmp(6) <= CoefReg_6;
  CoefOut_tmp(7) <= CoefReg_7;
  CoefOut_tmp(8) <= CoefReg_8;
  CoefOut_tmp(9) <= CoefReg_9;
  CoefOut_tmp(10) <= CoefReg_10;
  CoefOut_tmp(11) <= CoefReg_11;
  CoefOut_tmp(12) <= CoefReg_12;

  outputgen: FOR k IN 0 TO 12 GENERATE
    CoefOut(k) <= std_logic_vector(CoefOut_tmp(k));
  END GENERATE;

END rtl;

