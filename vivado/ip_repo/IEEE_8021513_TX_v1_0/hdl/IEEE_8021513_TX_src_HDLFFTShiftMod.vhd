-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/HDLTx/IEEE_8021513_TX_src_HDLFFTShiftMod.vhd
-- Created: 2024-10-27 17:09:29
-- 
-- Generated by MATLAB 24.1, HDL Coder 24.1, and Simulink 24.1
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: IEEE_8021513_TX_src_HDLFFTShiftMod
-- Source Path: 
-- Hierarchy Level: 4
-- Model version: 4.169
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY IEEE_8021513_TX_src_HDLFFTShiftMod IS
  PORT( clk                               :   IN    std_logic;
        reset_x                           :   IN    std_logic;
        enb_1_2_0                         :   IN    std_logic;
        varargin_1_re                     :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En14
        varargin_1_im                     :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En14
        varargin_2                        :   IN    std_logic;
        varargin_3                        :   IN    std_logic_vector(9 DOWNTO 0);  -- ufix10
        varargin_4                        :   IN    std_logic_vector(9 DOWNTO 0);  -- ufix10
        varargout_1_re                    :   OUT   std_logic_vector(15 DOWNTO 0);  -- sfix16_En14
        varargout_1_im                    :   OUT   std_logic_vector(15 DOWNTO 0);  -- sfix16_En14
        varargout_2                       :   OUT   std_logic;
        varargout_3                       :   OUT   std_logic_vector(9 DOWNTO 0);  -- ufix10
        varargout_4                       :   OUT   std_logic_vector(9 DOWNTO 0)  -- ufix10
        );
END IEEE_8021513_TX_src_HDLFFTShiftMod;


ARCHITECTURE rtl OF IEEE_8021513_TX_src_HDLFFTShiftMod IS

  -- Signals
  SIGNAL varargout_2_1                    : std_logic;
  SIGNAL obj_HDLFFTShiftModObj_resetSig   : std_logic;
  SIGNAL varargin_1_re_signed             : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL varargin_1_im_signed             : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL tmp                              : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL obj_HDLFFTShiftModObj_count      : std_logic;
  SIGNAL obj_HDLFFTShiftModObj_count_1    : std_logic;
  SIGNAL obj_HDLFFTShiftModObj_count_2    : std_logic;
  SIGNAL obj_HDLFFTShiftModObj_count_3    : std_logic;
  SIGNAL tmp_1                            : std_logic;
  SIGNAL tmp_2                            : std_logic;
  SIGNAL tmp_3                            : std_logic;
  SIGNAL tmp_4                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL temp1                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL p33temp1_cast                    : signed(16 DOWNTO 0);  -- sfix17_En14
  SIGNAL p33temp1_cast_1                  : signed(16 DOWNTO 0);  -- sfix17_En14
  SIGNAL tmp_5                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL tmp_6                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL obj_HDLFFTShiftModObj_rePart     : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL tmp_7                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL obj_HDLFFTShiftModObj_rePart_1   : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL tmp_8                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL tmp_9                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL temp2                            : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL p32temp2_cast                    : signed(16 DOWNTO 0);  -- sfix17_En14
  SIGNAL p32temp2_cast_1                  : signed(16 DOWNTO 0);  -- sfix17_En14
  SIGNAL tmp_10                           : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL tmp_11                           : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL obj_HDLFFTShiftModObj_imPart     : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL tmp_12                           : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL obj_HDLFFTShiftModObj_imPart_1   : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL varargout_1_re_tmp               : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL varargout_1_im_tmp               : signed(15 DOWNTO 0);  -- sfix16_En14
  SIGNAL obj_HDLFFTShiftModObj_validOut   : std_logic;
  SIGNAL tmp_13                           : std_logic;
  SIGNAL obj_HDLFFTShiftModObj_validOut_1 : std_logic;
  SIGNAL varargin_3_unsigned              : unsigned(9 DOWNTO 0);  -- ufix10
  SIGNAL obj_HDLFFTShiftModObj_FFTLen     : unsigned(9 DOWNTO 0);  -- ufix10
  SIGNAL varargin_4_unsigned              : unsigned(9 DOWNTO 0);  -- ufix10
  SIGNAL obj_HDLFFTShiftModObj_CPLen      : unsigned(9 DOWNTO 0);  -- ufix10

BEGIN
  varargout_2_1 <= varargin_2;

  obj_HDLFFTShiftModObj_resetSig <= '0';

  varargin_1_re_signed <= signed(varargin_1_re);

  varargin_1_im_signed <= signed(varargin_1_im);

  tmp <= varargin_1_re_signed;

  obj_HDLFFTShiftModObj_count <= '1';

  obj_HDLFFTShiftModObj_count_1 <= '0';

  obj_HDLFFTShiftModObj_count_2 <= '0';

  
  tmp_1 <= obj_HDLFFTShiftModObj_count WHEN obj_HDLFFTShiftModObj_count_3 = '0' ELSE
      obj_HDLFFTShiftModObj_count_1;

  
  tmp_2 <= obj_HDLFFTShiftModObj_count_3 WHEN varargout_2_1 = '0' ELSE
      tmp_1;

  
  tmp_3 <= tmp_2 WHEN obj_HDLFFTShiftModObj_resetSig = '0' ELSE
      obj_HDLFFTShiftModObj_count_2;

  obj_HDLFFTShiftModObj_count_reg_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        obj_HDLFFTShiftModObj_count_3 <= '0';
      ELSIF enb_1_2_0 = '1' THEN
        obj_HDLFFTShiftModObj_count_3 <= tmp_3;
      END IF;
    END IF;
  END PROCESS obj_HDLFFTShiftModObj_count_reg_process;


  tmp_4 <= varargin_1_re_signed;

  p33temp1_cast <= resize(varargin_1_re_signed, 17);
  p33temp1_cast_1 <=  - (p33temp1_cast);
  temp1 <= p33temp1_cast_1(15 DOWNTO 0);

  
  tmp_5 <= tmp_4 WHEN obj_HDLFFTShiftModObj_count_3 = '0' ELSE
      temp1;

  
  tmp_6 <= tmp WHEN varargout_2_1 = '0' ELSE
      tmp_5;

  obj_HDLFFTShiftModObj_rePart <= to_signed(16#0000#, 16);

  
  tmp_7 <= tmp_6 WHEN obj_HDLFFTShiftModObj_resetSig = '0' ELSE
      obj_HDLFFTShiftModObj_rePart;

  obj_HDLFFTShiftModObj_rePart_reg_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        obj_HDLFFTShiftModObj_rePart_1 <= to_signed(16#0000#, 16);
      ELSIF enb_1_2_0 = '1' THEN
        obj_HDLFFTShiftModObj_rePart_1 <= tmp_7;
      END IF;
    END IF;
  END PROCESS obj_HDLFFTShiftModObj_rePart_reg_process;


  tmp_8 <= varargin_1_im_signed;

  tmp_9 <= varargin_1_im_signed;

  p32temp2_cast <= resize(varargin_1_im_signed, 17);
  p32temp2_cast_1 <=  - (p32temp2_cast);
  temp2 <= p32temp2_cast_1(15 DOWNTO 0);

  
  tmp_10 <= tmp_9 WHEN obj_HDLFFTShiftModObj_count_3 = '0' ELSE
      temp2;

  
  tmp_11 <= tmp_8 WHEN varargout_2_1 = '0' ELSE
      tmp_10;

  obj_HDLFFTShiftModObj_imPart <= to_signed(16#0000#, 16);

  
  tmp_12 <= tmp_11 WHEN obj_HDLFFTShiftModObj_resetSig = '0' ELSE
      obj_HDLFFTShiftModObj_imPart;

  obj_HDLFFTShiftModObj_imPart_reg_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        obj_HDLFFTShiftModObj_imPart_1 <= to_signed(16#0000#, 16);
      ELSIF enb_1_2_0 = '1' THEN
        obj_HDLFFTShiftModObj_imPart_1 <= tmp_12;
      END IF;
    END IF;
  END PROCESS obj_HDLFFTShiftModObj_imPart_reg_process;


  varargout_1_re_tmp <= obj_HDLFFTShiftModObj_rePart_1;
  varargout_1_im_tmp <= obj_HDLFFTShiftModObj_imPart_1;

  varargout_1_re <= std_logic_vector(varargout_1_re_tmp);

  varargout_1_im <= std_logic_vector(varargout_1_im_tmp);

  obj_HDLFFTShiftModObj_validOut <= '0';

  
  tmp_13 <= varargout_2_1 WHEN obj_HDLFFTShiftModObj_resetSig = '0' ELSE
      obj_HDLFFTShiftModObj_validOut;

  obj_HDLFFTShiftModObj_validOut_reg_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        obj_HDLFFTShiftModObj_validOut_1 <= '0';
      ELSIF enb_1_2_0 = '1' THEN
        obj_HDLFFTShiftModObj_validOut_1 <= tmp_13;
      END IF;
    END IF;
  END PROCESS obj_HDLFFTShiftModObj_validOut_reg_process;


  varargin_3_unsigned <= unsigned(varargin_3);

  obj_HDLFFTShiftModObj_FFTLen_reg_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        obj_HDLFFTShiftModObj_FFTLen <= to_unsigned(16#040#, 10);
      ELSIF enb_1_2_0 = '1' THEN
        obj_HDLFFTShiftModObj_FFTLen <= varargin_3_unsigned;
      END IF;
    END IF;
  END PROCESS obj_HDLFFTShiftModObj_FFTLen_reg_process;


  varargout_3 <= std_logic_vector(obj_HDLFFTShiftModObj_FFTLen);

  varargin_4_unsigned <= unsigned(varargin_4);

  obj_HDLFFTShiftModObj_CPLen_reg_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        obj_HDLFFTShiftModObj_CPLen <= to_unsigned(16#010#, 10);
      ELSIF enb_1_2_0 = '1' THEN
        obj_HDLFFTShiftModObj_CPLen <= varargin_4_unsigned;
      END IF;
    END IF;
  END PROCESS obj_HDLFFTShiftModObj_CPLen_reg_process;


  varargout_4 <= std_logic_vector(obj_HDLFFTShiftModObj_CPLen);

  varargout_2 <= obj_HDLFFTShiftModObj_validOut_1;

END rtl;

