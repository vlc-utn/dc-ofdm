-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/test/ldpc_deco_23_ip_src_FunctionalUnit.vhd
-- Created: 2024-10-03 14:23:14
-- 
-- Generated by MATLAB 24.1, HDL Coder 24.1, and Simulink 24.1
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: ldpc_deco_23_ip_src_FunctionalUnit
-- Source Path: test/ldpc_deco_23/LDPC Decoder/DecoderCore/FunctionalUnit
-- Hierarchy Level: 3
-- Model version: 1.55
-- 
-- Functional_Unit
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;
USE work.ldpc_deco_23_ip_src_ldpc_deco_23_pac.ALL;

ENTITY ldpc_deco_23_ip_src_FunctionalUnit IS
  PORT( clk                               :   IN    std_logic;
        reset_x                           :   IN    std_logic;
        enb                               :   IN    std_logic;
        reset                             :   IN    std_logic;  -- ufix1
        data                              :   IN    vector_of_std_logic_vector6(0 TO 47);  -- sfix6 [48]
        valid                             :   IN    std_logic;  -- ufix1
        count                             :   IN    std_logic_vector(4 DOWNTO 0);  -- ufix5
        betaComp1                         :   IN    vector_of_std_logic_vector21(0 TO 47);  -- ufix21 [48]
        betaComp2                         :   IN    vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
        betaComp3                         :   IN    vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
        betaValid                         :   IN    std_logic;  -- ufix1
        gamma                             :   OUT   vector_of_std_logic_vector6(0 TO 47);  -- sfix6 [48]
        valid_1                           :   OUT   std_logic;  -- ufix1
        cnuComp1                          :   OUT   vector_of_std_logic_vector21(0 TO 47);  -- ufix21 [48]
        cnuComp2                          :   OUT   vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
        cnuComp3                          :   OUT   vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
        cnuValid                          :   OUT   std_logic;  -- ufix1
        rdAddr                            :   OUT   std_logic_vector(4 DOWNTO 0)  -- ufix5
        );
END ldpc_deco_23_ip_src_FunctionalUnit;


ARCHITECTURE rtl OF ldpc_deco_23_ip_src_FunctionalUnit IS

  -- Component Declarations
  COMPONENT ldpc_deco_23_ip_src_BetaDecompress_1
    PORT( clk                             :   IN    std_logic;
          reset_x                         :   IN    std_logic;
          enb                             :   IN    std_logic;
          betacomp1                       :   IN    vector_of_std_logic_vector21(0 TO 47);  -- ufix21 [48]
          betacomp2                       :   IN    vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
          betacomp3                       :   IN    vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
          validin                         :   IN    std_logic;  -- ufix1
          count                           :   IN    std_logic_vector(4 DOWNTO 0);  -- ufix5
          reset                           :   IN    std_logic;  -- ufix1
          beta                            :   OUT   vector_of_std_logic_vector4(0 TO 47);  -- sfix4 [48]
          valid                           :   OUT   std_logic  -- ufix1
          );
  END COMPONENT;

  COMPONENT ldpc_deco_23_ip_src_VariableNodeUnit
    PORT( clk                             :   IN    std_logic;
          reset_x                         :   IN    std_logic;
          enb                             :   IN    std_logic;
          data                            :   IN    vector_of_std_logic_vector6(0 TO 47);  -- sfix6 [48]
          beta                            :   IN    vector_of_std_logic_vector4(0 TO 47);  -- sfix4 [48]
          valid                           :   IN    std_logic;  -- ufix1
          valid_beta                      :   IN    std_logic;  -- ufix1
          reset                           :   IN    std_logic;  -- ufix1
          alpha                           :   OUT   vector_of_std_logic_vector6(0 TO 47);  -- sfix6 [48]
          valid_1                         :   OUT   std_logic  -- ufix1
          );
  END COMPONENT;

  COMPONENT ldpc_deco_23_ip_src_CheckNodeUnit
    PORT( clk                             :   IN    std_logic;
          reset_x                         :   IN    std_logic;
          enb                             :   IN    std_logic;
          data                            :   IN    vector_of_std_logic_vector4(0 TO 47);  -- sfix4 [48]
          valid                           :   IN    std_logic;  -- ufix1
          count                           :   IN    std_logic_vector(4 DOWNTO 0);  -- ufix5
          reset                           :   IN    std_logic;  -- ufix1
          cnuDecomp1                      :   OUT   vector_of_std_logic_vector21(0 TO 47);  -- ufix21 [48]
          cnuDecomp2                      :   OUT   vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
          cnuDecomp3                      :   OUT   vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
          cnuvalid                        :   OUT   std_logic  -- ufix1
          );
  END COMPONENT;

  COMPONENT ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC( AddrWidth                    : integer;
             DataWidth                    : integer
             );
    PORT( clk                             :   IN    std_logic;
          enb                             :   IN    std_logic;
          wr_din                          :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
          wr_addr                         :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
          wr_en                           :   IN    std_logic;  -- ufix1
          rd_addr                         :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
          dout                            :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
          );
  END COMPONENT;

  COMPONENT ldpc_deco_23_ip_src_BetaDecompress_2
    PORT( clk                             :   IN    std_logic;
          reset_x                         :   IN    std_logic;
          enb                             :   IN    std_logic;
          betacomp1                       :   IN    vector_of_std_logic_vector21(0 TO 47);  -- ufix21 [48]
          betacomp2                       :   IN    vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
          betacomp3                       :   IN    vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
          validin                         :   IN    std_logic;  -- ufix1
          count                           :   IN    std_logic_vector(4 DOWNTO 0);  -- ufix5
          reset                           :   IN    std_logic;  -- ufix1
          beta                            :   OUT   vector_of_std_logic_vector4(0 TO 47)  -- sfix4 [48]
          );
  END COMPONENT;

  COMPONENT ldpc_deco_23_ip_src_AposterioriUnit
    PORT( alpha                           :   IN    vector_of_std_logic_vector6(0 TO 47);  -- sfix6 [48]
          beta                            :   IN    vector_of_std_logic_vector4(0 TO 47);  -- sfix4 [48]
          valid                           :   IN    std_logic;  -- ufix1
          gamma                           :   OUT   vector_of_std_logic_vector6(0 TO 47);  -- sfix6 [48]
          valid_1                         :   OUT   std_logic  -- ufix1
          );
  END COMPONENT;

  -- Component Configuration Statements
  FOR ALL : ldpc_deco_23_ip_src_BetaDecompress_1
    USE ENTITY work.ldpc_deco_23_ip_src_BetaDecompress_1(rtl);

  FOR ALL : ldpc_deco_23_ip_src_VariableNodeUnit
    USE ENTITY work.ldpc_deco_23_ip_src_VariableNodeUnit(rtl);

  FOR ALL : ldpc_deco_23_ip_src_CheckNodeUnit
    USE ENTITY work.ldpc_deco_23_ip_src_CheckNodeUnit(rtl);

  FOR ALL : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    USE ENTITY work.ldpc_deco_23_ip_src_SimpleDualPortRAM_generic(rtl);

  FOR ALL : ldpc_deco_23_ip_src_BetaDecompress_2
    USE ENTITY work.ldpc_deco_23_ip_src_BetaDecompress_2(rtl);

  FOR ALL : ldpc_deco_23_ip_src_AposterioriUnit
    USE ENTITY work.ldpc_deco_23_ip_src_AposterioriUnit(rtl);

  -- Signals
  SIGNAL beta                             : vector_of_std_logic_vector4(0 TO 47);  -- ufix4 [48]
  SIGNAL betaValid_1                      : std_logic;  -- ufix1
  SIGNAL alpha                            : vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
  SIGNAL alphaValid                       : std_logic;  -- ufix1
  SIGNAL alpha_signed                     : vector_of_signed6(0 TO 47);  -- sfix6 [48]
  SIGNAL alphaDTC                         : vector_of_signed4(0 TO 47);  -- sfix4 [48]
  SIGNAL alphaDTC_1                       : vector_of_std_logic_vector4(0 TO 47);  -- ufix4 [48]
  SIGNAL cnuDecomp1                       : vector_of_std_logic_vector21(0 TO 47);  -- ufix21 [48]
  SIGNAL cnuDecomp2                       : vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
  SIGNAL cnuDecomp3                       : vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
  SIGNAL cnuValid_1                       : std_logic;  -- ufix1
  SIGNAL count_unsigned                   : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_rdAddr         : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_wrAddr         : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_rdValid        : std_logic;
  SIGNAL addressGeneration_rdAddrEnb      : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_rdAddr_next    : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_wrAddr_next    : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_rdValid_next   : std_logic;
  SIGNAL addressGeneration_rdAddrEnb_next : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_wrAddr_temp    : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL addressGeneration_rdValid_temp   : std_logic;
  SIGNAL addressGeneration_add_temp       : unsigned(5 DOWNTO 0);  -- ufix6
  SIGNAL addressGeneration_add_temp_1     : unsigned(5 DOWNTO 0);  -- ufix6
  SIGNAL addressGeneration_add_temp_2     : unsigned(5 DOWNTO 0);  -- ufix6
  SIGNAL wrAddr                           : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL rdAddr_tmp                       : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL rdValid                          : std_logic;  -- ufix1
  SIGNAL wrAddrEnb                        : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL rdAddrEnb                        : unsigned(4 DOWNTO 0);  -- ufix5
  SIGNAL alphaD                           : vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
  SIGNAL beta_1                           : vector_of_std_logic_vector4(0 TO 47);  -- ufix4 [48]
  SIGNAL rdValidReg                       : std_logic;  -- ufix1
  SIGNAL gamma_tmp                        : vector_of_std_logic_vector6(0 TO 47);  -- ufix6 [48]
  SIGNAL valid_2                          : std_logic;  -- ufix1

BEGIN
  u_Beta_Decompress_Unit_1 : ldpc_deco_23_ip_src_BetaDecompress_1
    PORT MAP( clk => clk,
              reset_x => reset_x,
              enb => enb,
              betacomp1 => betaComp1,  -- ufix21 [48]
              betacomp2 => betaComp2,  -- ufix6 [48]
              betacomp3 => betaComp3,  -- ufix6 [48]
              validin => betaValid,  -- ufix1
              count => count,  -- ufix5
              reset => reset,  -- ufix1
              beta => beta,  -- sfix4 [48]
              valid => betaValid_1  -- ufix1
              );

  u_Variable_Node_Unit : ldpc_deco_23_ip_src_VariableNodeUnit
    PORT MAP( clk => clk,
              reset_x => reset_x,
              enb => enb,
              data => data,  -- sfix6 [48]
              beta => beta,  -- sfix4 [48]
              valid => valid,  -- ufix1
              valid_beta => betaValid_1,  -- ufix1
              reset => reset,  -- ufix1
              alpha => alpha,  -- sfix6 [48]
              valid_1 => alphaValid  -- ufix1
              );

  u_Check_Node_Unit : ldpc_deco_23_ip_src_CheckNodeUnit
    PORT MAP( clk => clk,
              reset_x => reset_x,
              enb => enb,
              data => alphaDTC_1,  -- sfix4 [48]
              valid => alphaValid,  -- ufix1
              count => count,  -- ufix5
              reset => reset,  -- ufix1
              cnuDecomp1 => cnuDecomp1,  -- ufix21 [48]
              cnuDecomp2 => cnuDecomp2,  -- ufix6 [48]
              cnuDecomp3 => cnuDecomp3,  -- ufix6 [48]
              cnuvalid => cnuValid_1  -- ufix1
              );

  u_alphaDelay_generic_bank0 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(0),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(0)
              );

  u_alphaDelay_generic_bank1 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(1),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(1)
              );

  u_alphaDelay_generic_bank2 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(2),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(2)
              );

  u_alphaDelay_generic_bank3 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(3),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(3)
              );

  u_alphaDelay_generic_bank4 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(4),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(4)
              );

  u_alphaDelay_generic_bank5 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(5),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(5)
              );

  u_alphaDelay_generic_bank6 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(6),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(6)
              );

  u_alphaDelay_generic_bank7 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(7),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(7)
              );

  u_alphaDelay_generic_bank8 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(8),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(8)
              );

  u_alphaDelay_generic_bank9 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(9),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(9)
              );

  u_alphaDelay_generic_bank10 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(10),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(10)
              );

  u_alphaDelay_generic_bank11 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(11),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(11)
              );

  u_alphaDelay_generic_bank12 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(12),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(12)
              );

  u_alphaDelay_generic_bank13 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(13),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(13)
              );

  u_alphaDelay_generic_bank14 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(14),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(14)
              );

  u_alphaDelay_generic_bank15 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(15),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(15)
              );

  u_alphaDelay_generic_bank16 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(16),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(16)
              );

  u_alphaDelay_generic_bank17 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(17),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(17)
              );

  u_alphaDelay_generic_bank18 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(18),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(18)
              );

  u_alphaDelay_generic_bank19 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(19),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(19)
              );

  u_alphaDelay_generic_bank20 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(20),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(20)
              );

  u_alphaDelay_generic_bank21 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(21),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(21)
              );

  u_alphaDelay_generic_bank22 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(22),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(22)
              );

  u_alphaDelay_generic_bank23 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(23),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(23)
              );

  u_alphaDelay_generic_bank24 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(24),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(24)
              );

  u_alphaDelay_generic_bank25 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(25),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(25)
              );

  u_alphaDelay_generic_bank26 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(26),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(26)
              );

  u_alphaDelay_generic_bank27 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(27),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(27)
              );

  u_alphaDelay_generic_bank28 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(28),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(28)
              );

  u_alphaDelay_generic_bank29 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(29),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(29)
              );

  u_alphaDelay_generic_bank30 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(30),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(30)
              );

  u_alphaDelay_generic_bank31 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(31),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(31)
              );

  u_alphaDelay_generic_bank32 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(32),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(32)
              );

  u_alphaDelay_generic_bank33 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(33),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(33)
              );

  u_alphaDelay_generic_bank34 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(34),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(34)
              );

  u_alphaDelay_generic_bank35 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(35),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(35)
              );

  u_alphaDelay_generic_bank36 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(36),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(36)
              );

  u_alphaDelay_generic_bank37 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(37),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(37)
              );

  u_alphaDelay_generic_bank38 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(38),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(38)
              );

  u_alphaDelay_generic_bank39 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(39),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(39)
              );

  u_alphaDelay_generic_bank40 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(40),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(40)
              );

  u_alphaDelay_generic_bank41 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(41),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(41)
              );

  u_alphaDelay_generic_bank42 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(42),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(42)
              );

  u_alphaDelay_generic_bank43 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(43),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(43)
              );

  u_alphaDelay_generic_bank44 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(44),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(44)
              );

  u_alphaDelay_generic_bank45 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(45),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(45)
              );

  u_alphaDelay_generic_bank46 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(46),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(46)
              );

  u_alphaDelay_generic_bank47 : ldpc_deco_23_ip_src_SimpleDualPortRAM_generic
    GENERIC MAP( AddrWidth => 5,
                 DataWidth => 6
                 )
    PORT MAP( clk => clk,
              enb => enb,
              wr_din => alpha(47),
              wr_addr => std_logic_vector(wrAddr),
              wr_en => alphaValid,  -- ufix1
              rd_addr => std_logic_vector(rdAddr_tmp),
              dout => alphaD(47)
              );

  u_Beta_Decompress_Unit_2 : ldpc_deco_23_ip_src_BetaDecompress_2
    PORT MAP( clk => clk,
              reset_x => reset_x,
              enb => enb,
              betacomp1 => cnuDecomp1,  -- ufix21 [48]
              betacomp2 => cnuDecomp2,  -- ufix6 [48]
              betacomp3 => cnuDecomp3,  -- ufix6 [48]
              validin => cnuValid_1,  -- ufix1
              count => count,  -- ufix5
              reset => reset,  -- ufix1
              beta => beta_1  -- sfix4 [48]
              );

  u_Aposteriori_Node_Unit : ldpc_deco_23_ip_src_AposterioriUnit
    PORT MAP( alpha => alphaD,  -- sfix6 [48]
              beta => beta_1,  -- sfix4 [48]
              valid => rdValidReg,  -- ufix1
              gamma => gamma_tmp,  -- sfix6 [48]
              valid_1 => valid_2  -- ufix1
              );

  outputgen1: FOR k IN 0 TO 47 GENERATE
    alpha_signed(k) <= signed(alpha(k));
  END GENERATE;


  alphaDTC_gen: FOR ii IN 0 TO 47 GENERATE
    
    alphaDTC(ii) <= "0111" WHEN (alpha_signed(ii)(5) = '0') AND (alpha_signed(ii)(4 DOWNTO 3) /= "00") ELSE
        "1000" WHEN (alpha_signed(ii)(5) = '1') AND (alpha_signed(ii)(4 DOWNTO 3) /= "11") ELSE
        alpha_signed(ii)(3 DOWNTO 0);
  END GENERATE alphaDTC_gen;


  outputgen: FOR k IN 0 TO 47 GENERATE
    alphaDTC_1(k) <= std_logic_vector(alphaDTC(k));
  END GENERATE;

  count_unsigned <= unsigned(count);

  addressGeneration_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        addressGeneration_rdAddr <= to_unsigned(16#00#, 5);
        addressGeneration_rdAddrEnb <= to_unsigned(16#01#, 5);
        addressGeneration_wrAddr <= to_unsigned(16#00#, 5);
        addressGeneration_rdValid <= '0';
      ELSIF enb = '1' THEN
        addressGeneration_rdAddr <= addressGeneration_rdAddr_next;
        addressGeneration_wrAddr <= addressGeneration_wrAddr_next;
        addressGeneration_rdValid <= addressGeneration_rdValid_next;
        addressGeneration_rdAddrEnb <= addressGeneration_rdAddrEnb_next;
      END IF;
    END IF;
  END PROCESS addressGeneration_process;

  addressGeneration_add_temp <= resize(count_unsigned, 6) + to_unsigned(16#01#, 6);
  
  addressGeneration_rdValid_temp <= '0' WHEN reset /= '0' ELSE
      '1' WHEN cnuValid_1 /= '0' ELSE
      '0' WHEN resize(addressGeneration_rdAddr, 6) = addressGeneration_add_temp ELSE
      addressGeneration_rdValid;
  
  addressGeneration_wrAddr_temp <= to_unsigned(16#00#, 5) WHEN reset /= '0' ELSE
      to_unsigned(16#00#, 5) WHEN addressGeneration_rdAddr = count_unsigned ELSE
      addressGeneration_wrAddr + to_unsigned(16#01#, 5) WHEN alphaValid /= '0' ELSE
      addressGeneration_wrAddr;
  addressGeneration_add_temp_1 <= resize(count_unsigned, 6) + to_unsigned(16#01#, 6);
  
  addressGeneration_rdAddr_next <= to_unsigned(16#00#, 5) WHEN reset /= '0' ELSE
      to_unsigned(16#00#, 5) WHEN resize(addressGeneration_rdAddr, 6) = addressGeneration_add_temp_1 ELSE
      addressGeneration_rdAddr + to_unsigned(16#01#, 5) WHEN addressGeneration_rdValid_temp = '1' ELSE
      addressGeneration_rdAddr;
  addressGeneration_add_temp_2 <= resize(count_unsigned, 6) + to_unsigned(16#01#, 6);
  
  addressGeneration_rdAddrEnb_next <= to_unsigned(16#01#, 5) WHEN reset /= '0' ELSE
      to_unsigned(16#01#, 5) WHEN resize(addressGeneration_rdAddrEnb, 6) = addressGeneration_add_temp_2 ELSE
      addressGeneration_rdAddrEnb + to_unsigned(16#01#, 5) WHEN addressGeneration_rdValid_temp = '1' ELSE
      addressGeneration_rdAddrEnb;
  wrAddr <= addressGeneration_wrAddr;
  rdAddr_tmp <= addressGeneration_rdAddr;
  rdValid <= addressGeneration_rdValid_temp;
  wrAddrEnb <= addressGeneration_wrAddr_temp;
  rdAddrEnb <= addressGeneration_rdAddrEnb;
  addressGeneration_wrAddr_next <= addressGeneration_wrAddr_temp;
  addressGeneration_rdValid_next <= addressGeneration_rdValid_temp;


  c_process : PROCESS (clk)
  BEGIN
    IF clk'EVENT AND clk = '1' THEN
      IF reset_x = '1' THEN
        rdValidReg <= '0';
      ELSIF enb = '1' THEN
        rdValidReg <= rdValid;
      END IF;
    END IF;
  END PROCESS c_process;


  rdAddr <= std_logic_vector(rdAddr_tmp);

  gamma <= gamma_tmp;

  valid_1 <= valid_2;

  cnuComp1 <= cnuDecomp1;

  cnuComp2 <= cnuDecomp2;

  cnuComp3 <= cnuDecomp3;

  cnuValid <= cnuValid_1;

END rtl;

